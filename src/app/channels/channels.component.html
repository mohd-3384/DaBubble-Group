<!-- Workspace Header -->
<div class="ws-header">
  <div class="ws-title">
    <img class="workspace-logo" src="/public/images/devspace.svg" alt="Devspace" />
  </div>

  <button class="icon-swap edit" type="button" aria-label="Workspace bearbeiten" title="Workspace bearbeiten">
    <!-- optional (click) -->
  </button>
</div>

<!-- CHANNELS -->
<div class="section-header channels-header">
  <div class="left" (click)="toggleChannels()" [attr.aria-expanded]="!collapsedChannels()">
    <img class="arrow" [class.rotated]="collapsedChannels()" src="/public/images/arrow-drop-down.svg" alt="Toggle" />
    <img class="workspace-icon" src="/public/images/workspaces.svg" alt="Workspaces" />
    <span class="title">Channels</span>
  </div>

  <button class="icon-swap add" type="button" aria-label="Channel hinzufügen" title="Channel hinzufügen"
    (click)="addChannel()">
  </button>
</div>

<mat-nav-list *ngIf="!collapsedChannels()">
  <a mat-list-item *ngFor="let c of (channels$ | async); trackBy: trackByCid" [routerLink]="['/channel', c.id]"
    routerLinkActive="active">
    <div matLine># {{ c.name }}</div>
    <span class="spacer"></span>
  </a>
</mat-nav-list>

<!-- DIREKTNACHRICHTEN -->
<div class="section-header dms-header">
  <div class="left" (click)="toggleDMs()" [attr.aria-expanded]="!collapsedDMs()">
    <img class="arrow" [class.rotated]="collapsedDMs()" src="/public/images/arrow-drop-down.svg" alt="Toggle" />
    <img class="dm-icon" src="/public/images/account-circle.svg" alt="Direktnachrichten" />
    <span class="title">Direktnachrichten</span>
  </div>

  <span class="section-spacer"></span>
</div>

<mat-nav-list *ngIf="!collapsedDMs()">
  <a mat-list-item *ngFor="let u of (users$ | async); trackBy: trackByUid" [routerLink]="['/dm', u.id]"
    routerLinkActive="active">
    <img matListItemAvatar [src]="u.avatarUrl || '/public/images/avatars/avatar1.svg'" [alt]="u.name" />

    <div matLine>
      {{ u.name }}
      <span class="muted" *ngIf="u.id === meId"> (Du)</span>
    </div>

    <span class="spacer"></span>

    <!-- Online-Dot -->
    <span class="dot" [class.dot--online]="u.online" matTooltip="{{ u.online ? 'Online' : 'Offline' }}"></span>
  </a>
</mat-nav-list>
