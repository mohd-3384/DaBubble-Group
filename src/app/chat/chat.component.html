<!-- Chat-Header -->
<section class="chat-header" *ngIf="vm$ | async as vm">
  <!-- CHANNEL (# Titel + Pfeil) -->
  <div class="header-pill" *ngIf="vm.kind === 'channel'">
    <h2 class="title">{{ vm.title }}</h2>
    <span class="arrow" aria-hidden="true"></span>
  </div>

  <!-- DIRECT MESSAGE (Avatar + Online-Dot + Name) -->
  <div class="header-pill dm" *ngIf="vm.kind === 'dm'">
    <div class="avatar-wrap">
      <img class="avatar" [src]="vm.avatarUrl" alt="User" />
      <span class="dot" [class.online]="vm.online"></span>
    </div>
    <h2 class="title">{{ vm.title }}</h2>
  </div>

  <!-- Nur bei CHANNEL sichtbar -->
  <div *ngIf="(vm$ | async)?.kind === 'channel'" class="members-group">
    <div class="avatars">
      <img src="/public/images/avatars/avatar1.svg" alt="Member 1" class="avatar" />
      <img src="/public/images/avatars/avatar2.svg" alt="Member 2" class="avatar" />
      <img src="/public/images/avatars/avatar3.svg" alt="Member 3" class="avatar" />
      <span class="count">3</span>
    </div>

    <button class="icon-swap add-member" type="button" aria-label="Mitglieder hinzufÃ¼gen" title="Mitglieder hinzufÃ¼gen">
    </button>
  </div>
</section>








<section class="chat-body">

  <div class="top-gap"></div>

  <!-- Datum: Dienstag, 14 Januar -->
  <div class="day-separator">
    <span class="chip">Dienstag, 14 Januar</span>
  </div>

  <!-- Nachricht aus dem vergangenen Tag -->
  <div class="message-row">
    <img class="avatar" src="/public/images/avatars/avatar3.svg" alt="Noah Braun" />
    <div class="message-col">
      <div class="header">
        <span class="name">Noah Braun</span>
        <span class="dot"></span>
        <span class="time">14:25 Uhr</span>
      </div>

      <div class="bubble bubble-light">
        Welche Version ist aktuell von Angular?
      </div>

      <div class="thread-teaser">
        <a class="replies" href="javascript:void(0)">2 Antworten</a>
        <span class="last-reply">Letzte Antwort 14:56</span>
      </div>
    </div>
  </div>

  <hr class="divider" />

  <!-- Heute -->
  <div class="day-separator">
    <span class="chip">Heute</span>
  </div>

  <!-- Inline-Editor-Card -->
  <div class="edit-row">
    <div class="edit-card">
      <textarea class="edit-input" rows="3"
        placeholder="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque blandit odio efficitur lectus vestibulum, quis accumsan ante vulputate. Quisque tristique iaculis erat, eu faucibus lacus iaculis ac">
      </textarea>

      <div class="edit-actions">
        <button type="button" class="btn ghost">Abbrechen</button>
        <button type="button" class="btn primary">Speichern</button>
      </div>
    </div>

    <img class="avatar avatar-right" src="/public/images/avatars/avatar1.svg" alt="Frederik Beck" />
  </div>

  <!-- Reactions-Zeile -->
  <div class="reactions-row">
    <span class="reaction">ðŸŽ‰ <span>1</span></span>
    <span class="reaction">âœ… <span>1</span></span>
    <span class="reaction">ðŸ˜…</span>
  </div>

  <!-- Composer unten -->
  <div class="composer">
    <textarea class="composer-input" rows="3" placeholder="Nachricht an #Entwicklerteam"></textarea>

    <div class="composer-actions">
      <button class="icon-btn" type="button" aria-label="Emoji auswÃ¤hlen">ðŸ˜Š</button>
      <button class="icon-btn" type="button" aria-label="Jemanden erwÃ¤hnen">&#64;</button>

      <span class="spacer"></span>

      <span class="send-btn" role="button" tabindex="0" aria-label="Senden">
      </span>
    </div>
  </div>

</section>